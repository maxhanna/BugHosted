<div class="overallDisplay">
  <table id="baseTable">
    <thead>
      <tr>
        <th style="background-color: var(--primary-font-color); opacity: 50%" (click)="sortTable(0, 'baseTable')"></th>
        <th style="background-color: var(--secondary-font-color); opacity: 50%" (click)="sortTable(1, 'baseTable')"></th>
        <th (click)="sortTable(2, 'baseTable')"><span class="rotated-header">Command Center</span></th>
        <th (click)="sortTable(3, 'baseTable')"><span class="rotated-header">Mines</span></th>
        <th (click)="sortTable(4, 'baseTable')"><span class="rotated-header">Engineering Bay</span></th>
        <th (click)="sortTable(5, 'baseTable')"><span class="rotated-header">Factory</span></th>
        <th (click)="sortTable(6, 'baseTable')"><span class="rotated-header">Starport</span></th>
        <th (click)="sortTable(7, 'baseTable')"><span class="rotated-header">Warehouse</span></th>
        <th (click)="sortTable(8, 'baseTable')"><span class="rotated-header">Supply Depot</span></th>
        <th (click)="sortTable(9, 'baseTable')"><span class="rotated-header">ðŸ“€</span></th>
        <th (click)="sortTable(10, 'baseTable')"><span class="rotated-header">Incoming</span></th>
      </tr>
    </thead>
    <tbody *ngFor="let base of getCurrentBases(); let i = index; trackBy: trackByCoords" (click)="selectBase(base)" class="pointer">
      <tr [ngClass]="getBaseClass(base)">
        <td class="greyText">{{i}}</td>
        <td class="smallFont invertedHighlights">{{'{' + base.coordsX + ',' + base.coordsY + '}'}}</td>
        <td>{{base.commandCenterLevel}}</td>
        <td>{{base.minesLevel}}</td>
        <td>{{base.engineeringBayLevel}}</td>
        <td>{{base.factoryLevel}}</td>
        <td>{{base.starportLevel}}</td>
        <td>{{base.warehouseLevel}}</td>
        <td>{{base.supplyDepotLevel}}</td>
        <td class="goldText">{{base.gold | number:'1.2-2'}}</td>
        <td><span [ngClass]="getAttackClass(base)">{{getAttacksCount(base)}}</span> <span [ngClass]="getDefenceClass(base)">{{getDefenceCount(base)}}</span></td>
      </tr>
      <tr [ngClass]="getBaseClass(base)">
        <td colspan="5" >
          <span class="baseNameSpan">{{base.baseName}}</span>
        </td>
        <td colspan="6" class="unitsListTd">
          <ng-container *ngFor="let unitType of unitTypes">
            <span [ngClass]="getUnitClass(base, unitType.code)">
              {{unitType.shortName}}:{{getUnitTotalSafe(base, unitType.code)}}
            </span>
          </ng-container>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<div>
  <select #commandSelector (change)="selectCommand()">
    <option selected disabled>Send a command to all your bases</option>
    <option *ngFor="let command of commands">{{command}}</option>
  </select>
</div>
