<div class="cursorPointer userTag {{displayMiniTag ? 'miniTag' : ''}}" (mouseenter)="onUserTagHover($event)"
  (mouseleave)="onUserTagLeave()" (click)="preventOpenProfile ? null : viewProfile(user, previousComponent)">
  <div class="{{displayMiniTag ? 'miniAvatar' : 'largeAvatar'}}" *ngIf="!displayOnlyName">
    <div
      class="displayPicture {{displayLargeAvatar ? 'largeAvatar' : ''}} {{displayMiniTag ? 'miniAvatarPic' : ''}} {{displayTinyPicture ? 'tinyAvatarPic' : ''}}"
      *ngIf="user && user.id != 0 && user.displayPictureFile && user.displayPictureFile.id != 0 && !displayEmptyAvatar">
      <app-media-viewer #profileImageViewer [inputtedParentRef]="parentRef" [fileId]="user.displayPictureFile.id"
        [showCommentSection]="false" [displayControls]="false" [blockExpand]="preventExpandPicture"
        [displayExtraInfo]="false" [displayExpander]="false" [previousComponent]="previousComponent"
        (mouseenter)="onUserTagHover($event)" (mouseleave)="onUserTagLeave()">
      </app-media-viewer>
    </div>
    <div class="avatar noAvatar {{ (displayMiniTag || displayTinyPicture) ? 'miniAvatarBust' : ''}}"
      *ngIf="(!user || !user.displayPictureFile || user.displayPictureFile.id == 0 || displayEmptyAvatar || (user && user.id == 0))">
      <span class="avatarBust noAvatar">ğŸ‘¤</span>
      <span class="avatarBug noAvatar {{(displayMiniTag || displayTinyPicture) ? 'miniAvatarBug' : ''}}">ğŸª²</span>
    </div>
  </div>
  <span [class]="(displayOnlyName ? '' : 'usernameSpan ') + ' username' + (containUsername ? ' miniUsernameSpan' : '')"
    *ngIf="!displayOnlyAvatar && !hideName"
    [title]="displayMiniTag ? '' : displayEmptyAvatar && (!user || user.id == 0) ? 'Anonymous' : user?.username">
    {{displayEmptyAvatar && (!user || user.id == 0) ? 'Anonymous' : user?.username}}
  </span>
</div>