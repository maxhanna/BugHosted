<div class="mediaSelectorDiv">
  <button class="mediaSelectorButton" (click)="toggleMediaChoices()">üñºÔ∏è</button>
  <ng-container *ngIf="viewMediaChoicesOpen || displaySearch">
    <div id="selectMediaDiv" [ngClass]="{'open': viewMediaChoicesOpen || displaySearch}">
      <div class="mediaSelectorTitle">
        Select Media Files: <button class="doneButton" (click)="done()">Done</button>
      </div>
      <div *ngIf="viewMediaChoicesOpen">
        <div class="attachmentChoiceContainer" *ngIf="selectedFiles && selectedFiles.length > 0">
          <div *ngFor="let file of selectedFiles">
            <div class="smallContainerForMedia">
              <app-media-viewer [user]="file.user"
                                [inputtedParentRef]="inputtedParentRef"
                                [currentDirectory]="currentDirectory"
                                [file]="file"
                                [showCommentSection]="false"
                                [displayExtraInfo]="false"
                                [displayExpander]="false">
              </app-media-viewer>
            </div>
            <div>
              <div><span class="mediaFileName">{{file.fileName}}</span></div>
              <div><button (click)="removeFile(file)">Remove file</button></div>
            </div>
          </div>
        </div>
        <div>
          <app-file-upload [uploadButtonText]="'Upload Files'"
                           [showPrivatePublicOption]="false"
                           [currentDirectory]="currentDirectory"
                           (userUploadFinishedEvent)="uploadFinishedEvent($event)"
                           (userUploadEvent)="uploadEvent($event)"
                           (userCancelEvent)="uploadCancelledEvent($event)"
                           [user]="user"
                           *ngIf="showFileUploader">
          </app-file-upload>
        </div>
      </div>
      <div>
        <button (click)="displaySearch = !displaySearch" *ngIf="displaySearchButton" title="Search for files">üîçSearch Files</button>
        <div class="searchContainerDiv">
          <app-file-search *ngIf="displaySearch"
                           [currentDirectory]="currentDirectory"
                           [clearAfterSelectFile]="true"
                           [showPrivatePublicOption]="false"
                           [maxResults]="10"
                           [canChangeDirectory]="true"
                           [displayFileType]="false"
                           [displayFileSize]="false"
                           [displayFileData]="false"
                           [displayFileActions]="false"
                           [displayReactions]="false"
                           [displayComments]="false"
                           (selectFileEvent)="selectFile($event)"
                           (currentDirectoryChangeEvent)="directoryChanged($event)">
          </app-file-search>
        </div>

      </div>
    </div>
  </ng-container>
</div>
